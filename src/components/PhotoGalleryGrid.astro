---
import { Image } from "astro:assets";
import type { CollectionEntry } from "astro:content";

interface Props {
  photos: CollectionEntry<"photos">[];
}

const { photos } = Astro.props;
---

<div class="grid grid-cols-3 gap-4">
  {photos.map((photo: CollectionEntry<"photos">) => (
    <a 
      href={photo.data.type === "external" ? photo.data.url : `/photos/${photo.slug}`} 
      target={photo.data.type === "external" ? "_blank" : "_self"} 
      class="group relative block aspect-square overflow-hidden rounded-lg"
    >
      <Image 
        src={photo.data.thumbnail} 
        alt={photo.data.title}
        width={600}
        height={600}
        class="h-full w-full object-cover transition-transform duration-500 group-hover:scale-110"
      />
      <div class="absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center">
        <span class="text-white text-xs font-bold uppercase tracking-widest">
          {photo.data.type === "external" ? "View Portfolio" : "View Gallery"}
        </span>
      </div>
    </a>
  ))}
</div>